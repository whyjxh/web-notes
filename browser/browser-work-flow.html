<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>浏览器在输入url之后发生了什么</title>
</head>
<body>
    浏览器输入url之后发生的几个流程；<br>
    1、dns解析，将输入的域名解析为ip地址；<br>
    2、tcp连接，tcp三次握手；<br>
    3、浏览器发送http请求；<br>
    4、服务器接受请求并且返回报文；<br>
    5、浏览器解析渲染页面；<br>
    6、断开连接：tcp四次挥手；<br>

    url：统一资源定位符，用来定位互联网上的资源。<br>
    url组成；<br>
    协议、定义域主机、域名、端口、路径、对应资源名；<br>

    dns解析；<br>
    浏览器如何通过url去查找对应ip；<br>
    浏览器缓存 -> 操作系统缓存 -> 路由缓存 -> isp的dns服务器 -> 根服务器；<br>
    http请求的三个部分：tcp三次握手 -> http请求的三个部分：tcp三次握手 -> http请求响应 -> tcp四次挥手；<br>

    tcp三次握手；<br>
    作用：用以同步客户端和服务端的序列号和确认号；防止已经失效的连接请求突然又传送到服务器<br>
    1、客户端发送一个带SYN序列号、SEQ数据包到服务器；<br>
    2、服务器响应一个SYN序列号、ACK标识、seq数据包到客户端以示确认；<br>
    3、客户端在传回一个ACK、SEQ，告诉服务器，我要开始传送数据了，准备接收；<br>

    发送http请求；<br>

    浏览器渲染页面；<br> 
    <!-- 。/render.html -->

    断开连接；tcp四次挥手<br>
    1、浏览器向服务器发送报文，标示已经没有数据传输了。服务器可以准备关闭了；进入FIN_WAIT_1状态<br>
    2、服务器发送报文、ack、seq到客户端。标示同意关闭请求；进入FIN_WAIT_2状态<br>
    3、服务器发送报文、ack、seq到客户端，请求连接关闭；<br>
    4、客户端向服务器发送报文段、ack、seq。然后进入等待状态。服务端收到之后关闭连接，客户端等待一段时间未收到回复，正常关闭；<br>
</body>
</html>